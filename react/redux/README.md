# redux

## 개요

나는 리덕스가 싫다. 여러가지 세팅과 복잡한 제약, 보일러플레이트. 그래도 알고 까야되지 않을까. 리덕스의 사용 이유와 기본 세팅방법, 동작원리, 장단점에 대해 알아보고 최종적으로 mobx와 비교 분석을 해보자.

## 당신은 리덕스가 필요 없을 지도 모른다

근래 리액트가 메이저 라이브러리로써 폭발적으로 성장했다. 여러가지 장점들 덕분에 스타트업은 물론 기존 웹 서비스도 리액트로 전환 하는 케이스가 많아졌다. 이 때문에 새로운 기술을 배우려는 사람들의 관심이 늘어나면서 리액트 강좌가 인기를 끌게 되었다. 그러나 요즘 거의 숙어처럼 들리는 말은, 리액트는 러닝커브가 높다이다. 엄밀히 말하면 "리액트"보다 "리덕스"가 들어가는게 맞을것이다.

리덕스는 리액트의 단점을 보완하고 장점을 극대화 시키기 위해 만들어진 라이브러리로써, 상태(State)값을 보존하고, 뷰에 들어가는 비즈니스 로직을 분리하기 위해 만들어졌다. 물론 다른 장점을 더 나열하자면 끝이 없겠지만, 중요한 것은 "조금 더 나은 방식으로" 서비스를 만들기 위해 사용된다는 점이다.

그러나 장점이 있으면 단점도 있는법, 간단한 기능 하나를 위해 여러개의 파일을 수정해야하거나, 기본 세팅하는 과정이 복잡하다거나.. Redux의 장점을 취하기 위해서는 여러가지의 제약을 감수해야한다.

다시 돌아가서, 리액트 강좌가 많아진 요즘, 리액트 뿐만아니라 리덕스까지 필수적으로 배워야하는것 처럼 이야기한다. 리액트의 이야기를 하더라도 꼭 리덕스 이야기가 따라온다. 그러나 기술을 깊게 이해하고 사용하는 사람은 별로 없는 것 같다. 강좌에 나온대로 기계적으로 리덕스 구조를 만들어 사용하는게 과연 의미가 있을까?

리덕스가 왜 쓰여야하는지, 무엇을 극복하기위해 등장하게 되었는지, 어떤 장단점이 있는지 이해하는게 선행되어야한다고 생각한다. 그 전까지는 리덕스를 배운다는 압박감을 잠시 내려놓자. 로컬 상태값으로 프로젝트를 진행해도 상관이 없을것이다(튜토리얼의 경우). 그리고 무엇이 불편한지 자세히 생각해 본 다음 리덕스로 넘어가도 좋을 것이다.

> Redux 라이브러리 자체는 리듀서를 하나의 전역 스토어 객체에 “장착하는” 도우미들 모음일 뿐입니다. Redux를 거의 쓰지 않거나, 많이 쓰거나, 여러분이 원하는 대로 하세요. 하지만 만약 무언가를 포기한다면, 무언가를 꼭 얻어가세요. - Dan Abramov

참고: [당신에게 Redux는 필요 없을지도 모릅니다.](https://medium.com/lunit-engineering/%EB%8B%B9%EC%8B%A0%EC%97%90%EA%B2%8C-redux%EB%8A%94-%ED%95%84%EC%9A%94-%EC%97%86%EC%9D%84%EC%A7%80%EB%8F%84-%EB%AA%A8%EB%A6%85%EB%8B%88%EB%8B%A4-b88dcd175754)

## 리덕스

### 리덕스란?

Redux는 자바스크립트 앱을 위한 예측 가능한 상태(State) 컨테이너이다. 단방향 플로우로 데이터를 처리하는 Flux의 컨셉을 차용하여 만들어졌다.

리덕스를 사용하면 앱의 상태는 전부 하나의 스토어(Store)안에 있는 갹체 트리에 저장된다. 상태 트리를 변경하는 **유일한 방법**은 무엇이 일어날지 서술하는 객체인 액션(Action)을 보내는 것이다. 그리고 마지막으로 액션이 상태 트리를 어떻게 변경할지 명시하기위해 리듀서(Reducers)를 작성하면 된다.

### 리덕스의 목표

싱글 페이지 애플리케이션이 점점 복잡해지면서 상태값이 늘어나게되었다. 이에 따라 상태를 언제, 왜, 어떻게 업데이트할지 **제어할 수 없는** 지경에 이르렀다. 이러한 원인은 변화(mutation)과 비동기(asyncronicity)와 같이 흐름을 예측하기 어려운 개념을 섞어 쓰기 때문이다.

React는 이 문제를 해결하기 위해 뷰에서 비동기과 DOM 조작을 없앴으나 데이터는 관여하지 않는다. 리덕스는 상태 변화가 일어나는 시점에 **제약**을 두어 변화를 예측가능하게 만들고자 한다. 즉, 데이터의 변화를 제어(Controller)한다는 것이다. 이를 위해 다음과 같은 원칙이 존재한다.

1. 진실은 하나의 소스로부터 : 모든 상태는 하나의 스토어에서.
2. 상태는 읽기 전용 : 액션 객체를 통해서만 상태를 변화시키도록 제약한다.
3. 변화는 순수 함수로만 작성 : 액션에 의해 상태 트리가 어떻게 변화하는지 지정하기 위해 순수 리듀서를 작성한다.


## 리덕스의 기초

### 액션

